{% extends "xadmin/base_site.html" %}
{% load humanize %}
{% load staticfiles%}

{% block content-nav %}
{% endblock %}

{% block content %}
<div id="supplier-table">
    <table id="suppliers" class="datatable table-striped table-bordered">
        <thead>
            <tr>
                <th scope="col">METHOD</th>
                <th scope="col">CHANNEL</th>
                <th scope="col">SUPPLIER</th>
                <th scope="col">TYPE</th>
                <th scope="col">MARKET</th>
                <th scope="col">MIN AMOUNT</th>
                <th scope="col">MAX AMOUNT</th>
                <th scope="col">FLAT FEE</th>
                <th scope="col">% FEE</th>
                <th scope="col">REQUIRED VERIFICATIONS</th>
                <th scope="col">SCHEDULED DOWNTIME</th>
                <th scope="col">STATUS</th>
            </tr>
        </thead>
        <tbody>
            {% for psp in suppliers %}
                <tr>
                    <td>{{ psp.method }}</td>
                    <td>{{ psp.channel }}</td>
                    <td>{{ psp.supplier|default:'' }}</td>
                    <!-- <td>Deposit</td> -->
                    <td>{{ psp.min_amount|intcomma }}</td>
                    <td>{{ psp.max_amount|intcomma }}</td>
                    <td>{{ psp.get_market_display }}</td>
                    <td>{{ psp.transaction_fee }}</td>
                    <td>{{ psp.transaction_fee_per }}</td>
                    <td>{{ psp.get_market_display }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

</div>

<script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

<!-- datatables -->
<!-- <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css"> -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
<!-- datepicker -->

<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet"
    type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css" rel="stylesheet" type="text/css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<script>
    $(document).ready(function () {
        var csrftoken = $.cookie("csrftoken")

        function csrfSafeMethod(method) {
            // these HTTP methods do not require CSRF protection
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }

        $.ajaxSetup({
            beforeSend: function (xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });
    })
</script>

{% endblock %}