{"ast":null,"code":"import _classCallCheck from \"/mnt/z/work/ibet-django/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/z/work/ibet-django/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/z/work/ibet-django/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/z/work/ibet-django/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/z/work/ibet-django/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/mnt/z/work/ibet-django/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/mnt/z/work/ibet-django/front-end/src/components/navigation.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { logout, handle_search, setLanguage } from '../actions';\nimport IoAndroidPerson from \"react-icons/lib/io/android-person\";\nimport '../css/nav.css';\nimport { push as BurgerMenu } from 'react-burger-menu';\nvar styles = {\n  bmBurgerButton: {\n    position: 'relative',\n    width: '100px',\n    height: '30px',\n    top: '5px'\n  },\n  bmBurgerBars: {\n    background: '#373a47'\n  },\n  bmCrossButton: {\n    height: '24px',\n    width: '24px'\n  },\n  bmCross: {\n    background: '#bdc3c7'\n  },\n  bmMenu: {\n    background: 'white',\n    padding: '2.5em 1.5em 0',\n    fontSize: '1.15em'\n  },\n  bmMorphShape: {\n    fill: '#373a47'\n  },\n  bmItemList: {\n    color: '#b8b7ad',\n    padding: '0.8em'\n  },\n  bmOverlay: {\n    background: 'rgba(0, 0, 0, 0.3)'\n  }\n};\nvar languages = [{\n  value: 'en',\n  label: 'English (en)'\n}, {\n  value: 'zh-hans',\n  label: '簡體中文 (zh-hans)'\n}, {\n  value: 'fr',\n  label: 'français (fr)'\n}];\nexport var Navigation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navigation, _Component);\n\n  function Navigation(props) {\n    var _this;\n\n    _classCallCheck(this, Navigation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navigation).call(this, props));\n\n    _this.handleChange = function (languageOption) {\n      _this.setState({\n        languageOption: languageOption\n      });\n\n      _this.props.setLanguage(languageOption.value).then(function (res) {// console.log(\"language change to:\" + res.data);\n      });\n    };\n\n    _this.state = {\n      term: '',\n      facebooklogin: false,\n      userID: \"\",\n      name: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n    _this.onInputChange = _this.onInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onFormSubmit = _this.onFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Navigation, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        term: ''\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var fackbooklogin = localStorage.getItem('facebook');\n      this.setState({\n        facebooklogin: fackbooklogin\n      });\n      var fackbookObj = JSON.parse(localStorage.getItem('facebookObj'));\n\n      if (fackbooklogin === 'true') {\n        this.setState({\n          userID: fackbookObj.userID,\n          name: fackbookObj.name,\n          email: fackbookObj.email,\n          picture: fackbookObj.picture\n        });\n      }\n    }\n  }, {\n    key: \"onInputChange\",\n    value: function onInputChange(event) {\n      this.setState({\n        term: event.target.value\n      });\n    } // not used right now!\n\n  }, {\n    key: \"onFormSubmit\",\n    value: function onFormSubmit(event) {\n      event.preventDefault();\n      this.setState({\n        term: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var lang = this.props.lang;\n\n      if (lang === 'zh') {\n        lang = 'zh-hans';\n      }\n\n      var arr = languages.filter(function (value) {\n        return value.value === lang;\n      });\n      var option = {\n        value: lang,\n        label: arr[0].label\n      };\n      return React.createElement(\"div\", {\n        className: \"nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        onClick: function onClick() {\n          _this2.props.history.push('/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"ibet\"), React.createElement(\"div\", {\n        className: \"game\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/game_type/\",\n        style: {\n          textDecoration: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"nav.games\",\n        defaultMessage: \"Games\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))), React.createElement(\"form\", {\n        onSubmit: this.onFormSubmit,\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"nav.placeholder\",\n        defaultMessage: \"Search games...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, function (placeholder) {\n        return React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: placeholder,\n          className: \"form-control\",\n          value: _this2.state.term,\n          onChange: _this2.onInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        });\n      }), React.createElement(\"span\", {\n        className: \"input-group-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/game_search/\".concat(this.state.term),\n        style: {\n          textDecoration: 'none'\n        },\n        onClick: function onClick() {\n          window.location.reload();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"cursor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \" \", React.createElement(FormattedMessage, {\n        id: \"nav.search\",\n        defaultMessage: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"language\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: option,\n        onChange: this.handleChange,\n        options: languages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })), this.props.isAuthenticated ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(BurgerMenu, {\n        styles: styles,\n        right: true,\n        customBurgerIcon: React.createElement(\"div\", {\n          className: \"row account\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(IoAndroidPerson, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        })), React.createElement(FormattedMessage, {\n          id: \"nav.account\",\n          defaultMessage: \"Account\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/profile/\",\n        style: {\n          textDecoration: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"nav.profile\",\n        defaultMessage: \"Profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/referral/\",\n        style: {\n          textDecoration: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"nav.referral\",\n        defaultMessage: \"Refer new user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/\",\n        style: {\n          textDecoration: 'none'\n        },\n        onClick: function onClick() {\n          _this2.props.logout();\n\n          window.location.reload();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"nav.logout\",\n        defaultMessage: \"Logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }))))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \" \"), this.props.isAuthenticated || this.state.facebooklogin === 'true' ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup cursor\",\n        onClick: function onClick() {\n          _this2.props.history.push('/signup/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"login.signup\",\n        defaultMessage: \"Signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"login row cursor\",\n        onClick: function onClick() {\n          _this2.props.history.push('/login/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(IoAndroidPerson, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(FormattedMessage, {\n        id: \"nav.login\",\n        defaultMessage: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Navigation;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var token = state.auth.token;\n  return {\n    isAuthenticated: token !== null && token !== undefined,\n    error: state.auth.error,\n    lang: state.language.lang\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  logout: logout,\n  handle_search: handle_search,\n  setLanguage: setLanguage\n})(Navigation));","map":{"version":3,"sources":["/mnt/z/work/ibet-django/front-end/src/components/navigation.js"],"names":["React","Component","Select","NavLink","withRouter","connect","FormattedMessage","logout","handle_search","setLanguage","IoAndroidPerson","push","BurgerMenu","styles","bmBurgerButton","position","width","height","top","bmBurgerBars","background","bmCrossButton","bmCross","bmMenu","padding","fontSize","bmMorphShape","fill","bmItemList","color","bmOverlay","languages","value","label","Navigation","props","handleChange","languageOption","setState","then","res","state","term","facebooklogin","userID","name","email","picture","onInputChange","bind","onFormSubmit","fackbooklogin","localStorage","getItem","fackbookObj","JSON","parse","event","target","preventDefault","lang","arr","filter","option","history","textDecoration","placeholder","window","location","reload","isAuthenticated","mapStateToProps","token","auth","undefined","error","language"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { logout, handle_search, setLanguage } from '../actions';\nimport IoAndroidPerson from \"react-icons/lib/io/android-person\";\nimport '../css/nav.css';\nimport {push as BurgerMenu} from 'react-burger-menu'\n\nlet styles = {\n  bmBurgerButton: {\n      position: 'relative',\n      width: '100px',\n      height: '30px',\n      top: '5px'\n  },\n  bmBurgerBars: {\n      background: '#373a47'\n  },\n  bmCrossButton: {\n      height: '24px',\n      width: '24px'\n  },\n  bmCross: {\n      background: '#bdc3c7'\n  },\n  bmMenu: {\n      background: 'white',\n      padding: '2.5em 1.5em 0',\n      fontSize: '1.15em'\n  },\n  bmMorphShape: {\n      fill: '#373a47'\n  },\n  bmItemList: {\n      color: '#b8b7ad',\n      padding: '0.8em'\n  },\n  bmOverlay: {\n      background: 'rgba(0, 0, 0, 0.3)'\n  }\n};\n\nconst languages = [\n  { value: 'en', label: 'English (en)' },\n  { value: 'zh-hans', label: '簡體中文 (zh-hans)' },\n  { value: 'fr', label: 'français (fr)' }\n];\n\nexport class Navigation extends Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = { \n          term: '', \n\n          facebooklogin: false, \n          userID: \"\",\n          name: \"\",\n          email: \"\",\n          picture: \"\" \n        };\n\n        this.onInputChange = this.onInputChange.bind(this);\n        this.onFormSubmit = this.onFormSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentWillReceiveProps(props) {\n      this.setState({ term: '' });\n    }\n\n    componentDidMount() {\n       var fackbooklogin = localStorage.getItem('facebook')\n       this.setState({facebooklogin: fackbooklogin})\n       var fackbookObj = JSON.parse(localStorage.getItem('facebookObj'))\n       if (fackbooklogin === 'true'){\n        this.setState({\n          userID:   fackbookObj.userID, \n          name:     fackbookObj.name,\n          email:    fackbookObj.email,\n          picture:  fackbookObj.picture\n       })\n       }\n    }\n\n    handleChange = (languageOption) => {\n      this.setState({ languageOption });\n      this.props.setLanguage(languageOption.value)\n      .then((res) => {\n        // console.log(\"language change to:\" + res.data);\n      });\n    }\n\n    onInputChange(event) {\n      this.setState({ term: event.target.value });\n    }\n\n    // not used right now!\n    onFormSubmit(event) {\n        event.preventDefault();\n        this.setState({ term: '' });\n    }\n\n    render() {\n\n      let lang = this.props.lang;\n      if (lang === 'zh') {\n        lang = 'zh-hans';\n      }\n      let arr = languages.filter(value => {\n        return value.value === lang;\n      });\n      const option = { value: lang, label: arr[0].label };\n\n      return (\n        <div className=\"nav\" >\n          \n            <div className='logo' onClick={ () => {this.props.history.push('/')}}>\n               ibet \n            </div>\n           \n            <div className='game'>\n                <NavLink to='/game_type/' style={{ textDecoration: 'none' }}><FormattedMessage id=\"nav.games\" defaultMessage='Games' /></NavLink>\n            </div>\n\n            <form onSubmit={this.onFormSubmit} className=\"search\">\n\n              <FormattedMessage id=\"nav.placeholder\" defaultMessage=\"Search games...\">\n\n              {\n                  placeholder => \n                  <input type=\"text\" \n                    placeholder={placeholder} \n                    className=\"form-control\" \n                    value={this.state.term} \n                    onChange={this.onInputChange} \n                  />\n              }\n              \n              </FormattedMessage>\n\n              <span className=\"input-group-btn\">\n                <NavLink to = {`/game_search/${this.state.term}`}  style={{ textDecoration: 'none' }} onClick={() => {window.location.reload()}}>\n                    <button type=\"submit\" className=\"cursor\"> <FormattedMessage id=\"nav.search\" defaultMessage='Search' /></button>\n                </NavLink>\n              </span>\n\n            </form>\n\n\n            <div className='language'>\n              <Select\n                value={option}\n                onChange={this.handleChange}\n                options={languages}\n              />\n            </div>\n\n            {\n              this.props.isAuthenticated ?\n              <div>\n                <BurgerMenu styles={styles} right \n                    customBurgerIcon={ \n                      <div className='row account' >\n                        \n                        <div>\n                            <IoAndroidPerson /> \n                        </div>\n                 \n                        <FormattedMessage id=\"nav.account\" defaultMessage=\"Account\" /> \n                      </div>\n                    }>\n                    <div> \n                        <NavLink to = '/profile/' style={{ textDecoration: 'none' }}><FormattedMessage id=\"nav.profile\" defaultMessage='Profile' /></NavLink>\n                    </div>\n                    \n                    <div>\n                        <NavLink to = '/referral/' style={{ textDecoration: 'none' }}><FormattedMessage id=\"nav.referral\" defaultMessage='Refer new user' /></NavLink>\n                    </div>\n\n                    <div>\n                        <NavLink to = '/' \n                          style={{ textDecoration: 'none' }}\n                          onClick={()=>{\n                          this.props.logout()\n                          window.location.reload()\n                          }}><FormattedMessage id=\"nav.logout\" defaultMessage='Logout' />\n                        </NavLink>\n                    </div>\n\n                </BurgerMenu>\n              </div>\n              :\n              <div> </div>\n            }\n\n            \n            {/*       \n\n              Save this for later use\n\n              this.state.facebooklogin === 'true' ?\n                <div className = 'rows' style = {{width: \"100px\", heihgt: '50px'}}>\n                  <div> \n                    <img style = {{width: '30px', height: '30px'}} src={this.state.picture} alt={this.state.name} />\n                  </div>\n                  <div>\n                    <h2 style={{width: \"100px\", margin: 'auto'}}> {this.state.name} </h2>\n                  </div>\n                </div>\n              :\n                  <div> </div>\n            */}\n\n            {\n              this.props.isAuthenticated || this.state.facebooklogin === 'true' ?\n              \n              <div>\n                {/*\n                <NavLink to = '/' style={{ textDecoration: 'none' }} onClick={()=>{\n                  this.props.logout()\n                  window.location.reload()\n                  }}><FormattedMessage id=\"nav.logout\" defaultMessage='Logout' /></NavLink>\n                */}\n              </div>\n\n              :\n              <div className='row'> \n                  <div className='signup cursor' onClick={ () => {this.props.history.push('/signup/')}}>\n                      <FormattedMessage id=\"login.signup\" defaultMessage='Signup' /> \n                  </div>\n\n                  <div className='login row cursor'  onClick={ () => {this.props.history.push('/login/')}}> \n                      <IoAndroidPerson />\n                      <FormattedMessage id=\"nav.login\" defaultMessage='Login' /> \n                  </div>\n              </div>\n            }\n          \n          \n        </div>\n      );\n    }\n  }\n\nconst mapStateToProps = (state) => {\n    const { token } = state.auth;\n    return {\n        isAuthenticated: token !== null && token !== undefined, \n        error: state.auth.error,\n        lang: state.language.lang,\n    }\n}\n  \nexport default withRouter(connect(mapStateToProps, {logout, handle_search, setLanguage})(Navigation));"]},"metadata":{},"sourceType":"module"}